# pafy로 불러온 영상 저장하기

```python
import cv2
import pafy

url = 'https://www.youtube.com/watch?v=QyBdhdz7XM4'

# 해당 url의 영상 다운로드
videoInfo = pafy.new(url)

best = videoInfo.getbest(preftype='mp4')

# 영상 기록이 가능한 구조

# 캡쳐 구성
video_path = best.url
cap = cv2.VideoCapture(video_path)

if cap.isOpened():
    # 녹화 정의
    saveFilePath = './recode.avi'
    fps = 30.0
    fourcc = cv2.VideoWriter_fourcc(*'DIVX')
    # cap 내에 있는 영상에 대한 정의 중 크기를 가져옴
    width = cap.get(cv2.CAP_PROP_FRAME_WIDTH)
    height = cap.get(cv2.CAP_PROP_FRAME_HEIGHT)
    size = (int(width), int(height))
    # VideoWriter 객체 생성 ( 어떻게 파일을 저장할 건지에 대한 정의 )
    out = cv2.VideoWriter(saveFilePath, fourcc, fps, size)

    while True:
        ret, frame = cap.read()
        if not ret: break
        # 캡쳐된 프레임을 기록 (저장)
        cv2.imshow('video', frame)

        # 캡쳐된 프레임을 기록 (저장)
        out.write(frame)
        # cv2.imwrite()
        
        if cv2.waitKey(int(1000/fps)) >= 0: break
    # **저장하는 버퍼를 닫아줌
    out.release()
    pass

cap.release()
cv2.destroyAllWindows()
```

