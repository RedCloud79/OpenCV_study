# 자료공유 링크
* https://drive.google.com/drive/folders/1-02_nI0dQXtw5l-J8i2u8lM9QwnuskF4?usp=sharing

# 파이썬 가상환경 구축

> 1. python3 -V 로 파이썬의 버젼을 확인 ( 현재 3.8.10 )
> 2. pip3 -V 로 파이썬의 버젼을 확인 ( 현재 20.0.2 )
> 3. sudo apt install python3.8-venv로 설치 ( 우분투 기본 미설치 ) 파이썬 버젼에 따라 3.8의 부분을 수정해야된다.
> 4. python3 -m venv venv(이름)로 가상환경 생성
>
> * 우분투(리눅스) or Mac
>  >  1. source ./venv/bin/activate 로 가상환경 실행
>  >  2. python3, pip3 버젼 확인
> 5. 비활성화 deactivate 입력시 가상환경을 탈출 한다. 터미널의 (venv)가 없어지는 것을 확인
>
> * interpreter에 가상환경이 활성화가 안되는 경우 추가를 해준다.
> * Vs code의 오른쪽 하단의 버전 정보에 ('venv':venv)로 가상환경의 활성화의 유무 파악 가능
> > 1. Enter interpreter path...실행
> > 2. Find.. -> venv -> bin -> python3를 눌러서 가상환경을 활성화 해준다.

## 가상환경내에 opencv 설치
> 1. 가상환경을 활성화 해준다. source ./venv/bin/activate
> 2. pip을 통해 opencv 설치 pip install opencv-contrib-python (확장 기능을 보유로 설치)
> 3. pip 설치 내용 확인 두 개의 방법이 존재
> > * pip list : 설치 내용을 출력 해준다.
> > * pip freeze : 설치 내용의 버젼도 같이 출력 해준다.
> > > * pip 의존성 패키지 내보내기
> > > * pip freeze > requirements.txt 로 의존성 패키지는 공유 한다.
> > > * pip 의존성 패키지 복원
> > > * pip install -r requirements.txt(파일이름, 혹은 경로)
> > > * 특정 일분의 버전을 바꿔서 받아올 경우
> > > * pip install pip install opencv-contrib-python : 최신버젼을 받아옴
> > > * pip install pip install opencv-contrib-python== 특정 버전 입력

## 가상환경의 동작 확인

```python
import cv2

img_file = "./img/restaurant1.jpg"
img = cv2.imread(img_file)

# is 는 타입비교
if img is not None:
    cv2.imshow("IMG", img)

    # sppexit = False
    # while not sppexit:
    #     # 키 입력을 확인
    #     # 키 입력이 있으면 appexit = True
    #     key = cv2.waitKey(1)
    #     pass
    cv2.waitKey() # 아무런 값을 넣지 않으면 무한 대기
    # cv2.waitKey(5000) # 5초 이후 자동으로 빠져나감
    cv2.destroyAllWindows()
    pass
else:
    print("No imgae file. ")
```

## 영상을 출력하기

#### 동영상 파일 읽기
```python
import cv2

video_file = "./img/big_buck.avi"

cap = cv2.VideoCapture(video_file)
if cap.isOpened():
    while True:
        # return tuple ((0,0), [0,0]) [0]ret:Number, [1] img:Mat
        # 한 번에 가져와서 두개의 변수로 나누기
        ret, img = cap.read()

        # read = cap.read()# 변수에 담아서 사용
        # ret,img = read # read 변수를 두개의 변수로 나누기
        # # ret = read[0]
        # # ret = read[1]
        # print("read: ", read)
        if not ret:
            break
        cv2.imshow(video_file, img)
        cv2.waitKey(25) # 25ms (40)fps를 의미한다 (1/40 = 0.025)
        # if ret:
        #     cv2.imshow(video_file, img)
        #     cv2.waitKey(25) # 25ms (40)fps를 의미한다
        # else:
        #     break
else:
    print("Error opening video file")
cap.release() # 버퍼 닫기
cv2.destroyAllWindows()
```

#### 웹캠 읽어오기
```python
import cv2

# 첫 번째 캠을 연결 (index:0)
cap = cv2.VideoCapture(0)

# 캡처가 연결되었는지 확인
if cap.isOpened():
    while True:
        ret, img = cap.read()
        if not ret:
            print("no frame")
            break
        cv2.imshow('camera', img)
        # 아무것도 입력되지 않은 반환값 -1
        if cv2.waitKey(1000) != -1:
            break
else:
    print("can't open camera")
cap.release()
cv2.destroyAllWindows()
```

#### Youtube에서 다운받아서 출력하기
```python

```








































